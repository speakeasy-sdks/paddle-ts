/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { Money2 } from "./money2";
import { Period2 } from "./period2";
import { TaxMode1 } from "./taxmode1";
import { TimePeriod } from "./timeperiod";
import { Expose, Transform, Type } from "class-transformer";

/**
 * Price object for this item.
 */
export class ItemSubscriptionPrice extends SpeakeasyBase {
    @SpeakeasyMetadata()
    @Expose({ name: "billing_cycle" })
    @Type(() => Period2)
    billingCycle?: Period2;

    /**
     * Short description for this price. Typically describes how often the related product bills.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "description" })
    description?: string;

    /**
     * Unique Paddle ID for this price, prefixed with `pri_`.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "id" })
    id?: string;

    /**
     * Unique Paddle ID for this product, prefixed with `pro_`.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "product_id" })
    productId?: string;

    /**
     * How tax is calculated for this price.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "tax_mode" })
    taxMode?: TaxMode1;

    @SpeakeasyMetadata()
    @Expose({ name: "trial_period" })
    @Type(() => Period2)
    trialPeriod?: Period2;

    @SpeakeasyMetadata()
    @Expose({ name: "unit_price" })
    @Type(() => Money2)
    unitPrice?: Money2;
}

/**
 * Status of this subscription item. Set automatically by Paddle.
 */
export enum ItemSubscriptionStatus {
    Active = "active",
    Inactive = "inactive",
    Trialing = "trialing",
}

/**
 * Represents a subscription item.
 */
export class ItemSubscription extends SpeakeasyBase {
    /**
     * RFC 3339 datetime string of when this entity was created. Set automatically by Paddle.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "created_at" })
    @Transform(({ value }) => new Date(value), { toClassOnly: true })
    createdAt?: Date;

    /**
     * RFC 3339 datetime string.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "next_billed_at" })
    @Transform(({ value }) => new Date(value), { toClassOnly: true })
    nextBilledAt?: Date;

    /**
     * RFC 3339 datetime string.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "previously_billed_at" })
    @Transform(({ value }) => new Date(value), { toClassOnly: true })
    previouslyBilledAt?: Date;

    /**
     * Price object for this item.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "price" })
    @Type(() => ItemSubscriptionPrice)
    price?: ItemSubscriptionPrice;

    /**
     * Quantity of this item on the subscription.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "quantity" })
    quantity?: number;

    /**
     * Whether this is a recurring item. `false` if one-time.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "recurring" })
    recurring?: boolean;

    /**
     * Status of this subscription item. Set automatically by Paddle.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "status" })
    status?: ItemSubscriptionStatus;

    @SpeakeasyMetadata()
    @Expose({ name: "trial_dates" })
    @Type(() => TimePeriod)
    trialDates?: TimePeriod;

    /**
     * RFC 3339 datetime string of when this entity was updated. Set automatically by Paddle.
     */
    @SpeakeasyMetadata()
    @Expose({ name: "updated_at" })
    @Transform(({ value }) => new Date(value), { toClassOnly: true })
    updatedAt?: Date;
}
